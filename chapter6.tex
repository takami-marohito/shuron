\section{過去のデータを用いることの有効性を確認する実験の結果及び考察}
先の章で行った実験の結果を述べ、考察する。
単一の海洋環境変数を使ってSIモデルを構築し、その正答率についてのみまとめた表は表\ref{tab:6-1}-\ref{tab:6-4}である。
これを図にしたものが図\ref{fig:6-1}-\ref{fig:6-4}である。

これを見るとモデル構築に使えるデータ量を単純に増やしても正答率が良くなるとは限らないことが分かる。
そして多くの場合で、当日、10日まで、20日まで、30日までのデータから構築したSIモデルが最も正答率が高くなる。
また、30日遡ったあたりから正答率の変化がほぼなくなっている。
このことから30日前から60日前のデータは漁獲モデルの精度向上に寄与しないことがわかる。

それどころか使用できるデータ量が増えているのにも関わらず正答率が逆に下がることが多い。
これは漁獲モデル構築に関係しない30日より前のデータが偶然学習データを上手く説明できてしまい漁獲モデルに入ったしまったためである。
これらの海洋環境変数は実際には漁獲モデルと関係ないためテストデータの正答率を下げる結果となる。
そのためこれらのデータは役に立たないだけではなく、漁獲モデルにとって良くない影響があるのでモデル構築に使用しない方が良いと言える。

まとめると次のようになる。
食物連鎖の周期を考えると最大で60日まで遡ったデータが正答率に影響する可能性があった。
しかし実際には30日以上遡った海洋環境変数データが正答率の向上に寄与しないどころか正答率を下げることがわかった。
今後別の漁獲日で流跡線計算を行う場合30日より過去の流跡線計算を行うべきではなく、今回の計算時間を短縮することができる。

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度 & 0.659 & 0.659 & 0.67 & 0.659 & 0.659 & 0.659 & 0.659 \\
海水温 & 0.67 & 0.648 & 0.637 & 0.626 & 0.626 & 0.615 & 0.593 \\
経度方向の流速 & 0.538&0.56&0.538&0.626&0.593&0.604&0.593 \\
緯度方向の流速 & 0.56&0.604&0.659&0.604&0.582&0.571&0.615 \\
深さ方向の流速 & 0.571&0.692&0.659&0.648&0.626&0.604&0.626 \\ \hline
\end{tabular}
\caption{2006年1月の漁獲データのうち、奇数番目を学習データ、偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの正答率の変化を表にした。}
\label{tab:6-1}
\end{table}

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度 & 0.505&0.549&0.538&0.538&0.582&0.571&0.55 \\
海水温 & 0.626&0.615&0.549&0.637&0.571&0.593&0.56 \\
経度方向の流速 & 0.604&0.538&0.495&0.615&0.571&0.549&0.56 \\
緯度方向の流速 & 0.527&0.571&0.571&0.593&0.648&0.648&0.593 \\
深さ方向の流速 & 0.637&0.66&0.604&0.626&0.571&0.593&0.582 \\ \hline
\end{tabular}
\caption{2006年1月の漁獲データのうち、奇数番目をテストデータ、偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの正答率の変化を表にした。}
\label{tab:6-2}
\end{table}

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度 & 0.750 & 0.685 & 0.707 & 0.620 & 0.620 & 0.620 & 0.620 \\
海水温 & 0.750 & 0.739 & 0.652 & 0.696 & 0.663 & 0.652 & 0.663 \\
経度方向の流速 & 0.543 & 0.576 & 0.609 & 0.652 & 0.652 & 0.630 & 0.630 \\
緯度方向の流速 & 0.576 & 0.587 & 0.652 & 0.620 & 0.620 & 0.652 & 0.630 \\
深さ方向の流速 & 0.609 & 0.587 & 0.663 & 0.598 & 0.620 & 0.630 & 0.630 \\ \hline
\end{tabular}
\caption{2006年2月の漁獲データのうち、奇数番目を学習データ、偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの正答率の変化を表にした。}
\label{tab:6-3}
\end{table}

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度 & 0.707&0.696&0.696&0.663&0.62&0.63&0.62 \\
海水温 & 0.75&0.707&0.696&0.641&0.641&0.641&0.598 \\
経度方向の流速 & 0.598&0.522&0.62&0.641&0.598&0.63&0.609 \\
緯度方向の流速 & 0.5&0.587&0.587&0.587&0.609&0.685&0.609 \\
深さ方向の流速 & 0.587&0.652&0.663&0.62&0.565&0.565&0.565 \\ \hline
\end{tabular}
\caption{2006年2月の漁獲データのうち、奇数番目をテストデータ、偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの正答率の変化を表にした。}
\label{tab:6-4}
\end{table}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-1.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち、奇数番目を学習データ、偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの正答率の変化を図にした。}
  \label{fig:6-1}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-2.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち、奇数番目を学習データ、偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの正答率の変化を図にした。}
  \label{fig:6-2}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-3.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち、奇数番目をテストデータ、偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの正答率の変化を図にした。}
  \label{fig:6-3}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-4.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち、奇数番目をテストデータ、偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの正答率の変化を図にした。}
  \label{fig:6-4}
\end{figure}

次に適合率の結果が表\ref{tab:6-5}-\ref{tab:6-8}である。
これを図にしたものが図\ref{fig:6-5}-\ref{fig:6-8}である。
適合率(Precision)とは、一方の予測をした時にそれが正しい割合である。
正の適合率(Positive Precision)であれば、漁獲量が平均より多いと予測した地点の数を全体とした時の、実際の漁獲も多かった地点の数の割合である。
負の適合率(Negative Precision)はちょうどその逆で、漁獲量が平均より少ないと予測した地点の数を全体とした時の、実際の漁獲も少なかった地点の数の割合である。
重み$\lambda$を変化させた時に正答率が最大になる$\lambda$が最終的なSIモデルなのでこの表の適合率はすべて各条件における正答率最大となるSIモデルである。
\if0
2006年1月,2月ともに、漁獲量が平均より低くなる場合のほうが多く、少数の大漁が平均を引っ張る形になっている
具体的な数
\fi

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度，正の適合率 & 0&0&0.6&0&0&0&0 \\
塩分濃度，負の適合率 & 0.659&0.659&0.674&0.659&0.659&0.659&0.659 \\
海水温，正の適合率 & 0.67&0.648&0.637&0.626&0.626&0.615&0.593 \\
海水温，負の適合率 & 0.679&0.667&0.663&0.686&0.676&0.671&0.639 \\
経度方向の流速，正の適合率 & 0.538&0.56&0.538&0.626&0.593&0.604&0.593 \\
経度方向の流速，負の適合率 & 0.640&0.652&0.655&0.703&0.677&0.694&0.695 \\
緯度方向の流速，正の適合率 & 0.56&0.604&0.659&0.604&0.582&0.571&0.615 \\
緯度方向の流速，負の適合率 & 0.647&0.694&0.746&0.707&0.712&0.672&0.671 \\
深さ方向の流速，正の適合率 & 0.571&0.692&0.659&0.648&0.626&0.604&0.626 \\
深さ方向の流速，負の適合率 &0.667&0.729&0.688&0.719&0.71&0.676&0.717 \\ \hline
\end{tabular}
\caption{2006年1月の漁獲データのうち、奇数番目を学習データ、偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの適合率の変化を表にした。}
\label{tab:6-5}
\end{table}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-5.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち、奇数番目を学習データ、偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの正の適合率の変化を図にした。}
  \label{fig:6-5}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-6.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち、奇数番目を学習データ、偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの負の適合率の変化を図にした。}
  \label{fig:6-6}
\end{figure}

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度，正の適合率 & 0.750 & 0.60 & 0.625 & 0 & 0 & 0 & 0 \\
塩分濃度，負の適合率 & 0.750 & 0.726 & 0.750 & 0.620 & 0.620 & 0.620 & 0.620 \\
海水温，正の適合率 & 0.750 & 0.658 & 0.80 & 0.630 & 0.550 & 0.80 & 0.563 \\
海水温，負の適合率 & 0.750 & 0.789 & 0.644 & 0.723 & 0.750 & 0.644 & 0.717 \\
経度方向の流速，正の適合率 & 0.36&0.389&0.485&0.545&0.543&0.513&0.512 \\
経度方向の流速，負の適合率 & 0.612&0.622&0.678&0.712&0.719&0.709&0.725 \\
緯度方向の流速，正の適合率 & 0.423&0.452&0.541&0.5&0.5&0.543&0.512 \\
緯度方向の流速，負の適合率 & 0.636&0.656&0.727&0.703&0.69&0.719&0.725 \\
深さ方向の流速，正の適合率 & 0.462&0.46&0.611&0.472&0.5&0.511&0.526 \\
深さ方向の流速，負の適合率 & 0.633&0.673&0.676&0.679&0.69&0.745&0.658 \\ \hline
\end{tabular}
\caption{2006年2月の漁獲データのうち、奇数番目を学習データ、偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの適合率の変化を表にした。}
\label{tab:6-6}
\end{table}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-7.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち、奇数番目を学習データ、偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの正の適合率の変化を図にした。}
  \label{fig:6-7}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-8.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち、奇数番目を学習データ、偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの負の適合率の変化を図にした。}
  \label{fig:6-8}
\end{figure}

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度，正の適合率 &0&0.7&0.8&0.8&0.706&0.575&0.542 \\
塩分濃度，負の適合率&0.505&0.531&0.523&0.523&0.554&0.569&0.558\\
海水温，正の適合率&0.762&0.593&0.553&0.688&0.607&0.682&0.576\\
海水温，負の適合率&0.586&0.649&0.547&0.610&0.556&0.565&0.552\\
経度方向の流速，正の適合率&0.636&0.541&0.487&0.619&0.571&0.563&0.558\\
経度方向の流速，負の適合率&0.586&0.537&0.5&0.612&0.571&0.542&0.563\\
緯度方向の流速，正の適合率&0.528&0.583&0.568&0.58&0.633&0.659&0.591\\
緯度方向の流速，負の適合率&0.527&0.563&0.574&0.61&0.667&0.64&0.596\\
深さ方向の流速，正の適合率&0.714&0.675&0.615&0.612&0.579&0.667&0.59\\
深さ方向の流速，負の適合率&0.603&0.647&0.596&0.643&0.566&0.567&0.577\\ \hline
\end{tabular}
\caption{2006年1月の漁獲データのうち、奇数番目をテストデータ、偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの適合率の変化を表にした。}
\label{tab:6-7}
\end{table}

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度，正の適合率&0.625&0.606&0.606&0.547&0&1&0\\
塩分濃度，負の適合率&0.75&0.745&0.745&0.76&0.619&0.626&0.619\\
海水温，正の適合率&0.730&0.617&0.6&0.625&0.625&0.667&0.458\\
海水温，負の適合率&0.757&0.758&0.754&0.642&0.642&0.639&0.647\\
経度方向の流速，正の適合率&0.461&0.4&0.5&0.522&0.477&0.512&0.486\\
経度方向の流速，負の適合率&0.651&0.638&0.683&0.75&0.708&0.725&0.690\\
緯度方向の流速，正の適合率&0.31&0.457&0.448&0.454&0.481&0.583&0.478\\
緯度方向の流速，負の適合率&0.587&0.667&0.65&0.661&0.661&0.75&0.652\\
深さ方向の流速，正の適合率&0.428&0.588&0.562&0.5&0.419&0.413&0.413\\
深さ方向の流速，負の適合率&0.633&0.667&0.716&0.652&0.639&0.634&0.634 \\ \hline
\end{tabular}
\caption{2006年2月の漁獲データのうち、奇数番目をテストデータ、偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する。その際に流跡線上でサンプリングした過去のデータを使うが、この日数を変化させた時のSIモデルの適合率の変化を表にした。}
\label{tab:6-8}
\end{table}

図\ref{fig:6-5}-\ref{fig:6-8}を見ると、負の適合率は日数を変化させてもあまり変化しない一方で正の適合率は日数の変化による変化が大きい。


表\ref{tab:6-5}で塩分濃度の正の適合率を見ると、30日以降は正の適合率が0になっている。
このSIモデルによる全ての漁獲予測が負ということであり、つまり全ての予測が学習データに記録されたCPUEの平均値より少ないと予測していることを意味する。
このSIモデルは重み$\lambda$を0.01から1まで変化させた時に構築できる各SIモデル候補から、最大正答率となるものを選んでいる。
それはつまりこの時の塩分濃度のSIモデルは当てずっぽうで片方を選んだ時より正答率が低いモデルしか構築できていないことになる。
また重み$\lambda$を変化させた時の各SIモデル候補は学習データを最も精度良く説明できるモデルとなっている。
正答率の結果で流跡線を30日以上遡った海洋環境変数をSIモデル構築に使うべきではないという議論を行った。
適合率の結果を見ると30日以上遡った塩分濃度のモデルが当てずっぽうのモデルであることが確認でき、正答率に関する結果を支持している。

\section{実験結果及び考察}


\if0
各計算時間を一応書いておく
最適化計算時間はおそらくmldivideが支配的
n^2に比例するので計算時間も多分n^2になる
\fi