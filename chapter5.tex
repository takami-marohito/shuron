本章では，過去のデータを用いることで漁獲モデルの精度が向上することを確認するための実験について説明する．

\section{使用データ}
この節では本実験で使用するデータについて説明する．

\subsection{漁獲実績データ}
本研究ではアカイカを対象とした漁獲実績データ（CPUEデータ)を用いる．
このデータは青森県八戸港に所属するイカ釣り漁船が，2006年1月及び2月に行った操業を記録したものでそれぞれ184点，186点の漁獲データがある．
データには操業日，操業を行った緯度経度，CPUEが記録されている．
本研究では緯度経度の情報はCPUEに影響を与えないと考えているので，本実験では緯度経度情報を海洋環境変数としてSIモデルの構築に使用することはない．
ただし全く使わないわけではなく，流跡線計算の始点として利用する．
また合計で370点の漁獲実績データがあるが，これら全体を一回の実験で全て使用することはない．
先の章で述べたように，提案手法でSIモデルを構築する時に時刻の情報が失われるため，SIモデルの時間変化を考慮せずモデル構築を行う．
そのため出来る限り短い時間幅でモデル構築を行いたいが，そうすると一回のモデル構築に使用できるデータ量が減ってしまうのでモデルの精度が悪くなることが予想される．
そのため，このデータを月ごとに別個のデータとして扱うことでSIモデルの時間変化は無くモデル構築に十分なデータ量があるものと仮定する．

\subsection{海洋環境変数データ}
本実験で使用する海洋環境変数として，気象庁気象研究所で開発された海洋データ同化システムで作成されたMOVE(MRI Multivariate Ocean Variational Estimation)データを用いる．
このデータでは海水温，塩分濃度，経度方向の流速，緯度方向の流速，深さ方向の流速が利用できる．
また各変数は54段階の深さを持っており最大深さは6000mにもなる．
しかし操業する地点ではそれほどの深さはない．
そのため，本実験では使用データ全体の漁獲位置で最も浅い300mの深さまでを使用する．
これはMOVEデータでは20段階目の深さである．
\if0
どうにか文章を増やしたかったら20段階の深さを書く
\fi
先の章で説明したように漁獲位置を始点とした流跡線を計算し，流跡線上でサンプリングしたデータを過去のデータとして用いる．
流跡線計算の開始点は緯度経度は漁獲位置であり，その深さはMOVEデータの各段階ごとの深さである．
そのため一つの漁獲位置では20点の流跡線計算の開始点が存在する．
これをルンゲクッタ法によって60日遡り，一日ごとにサンプリングする．
MOVEデータには5種類の海洋環境変数が記録されているので，各サンプリング点では5種類の海洋環境変数を得ることができる．
そのため，過去のデータまで利用する場合最大で6000種類の海洋環境変数がHSIモデルに影響することになる．
一方当日のデータのみを利用する場合はその60分の1の数なので100種類の変数までである．

\section{過去のデータを用いることの有効性を確認する実験}
過去のデータを用いることでそもそも漁獲モデルの精度が向上するのかどうかを確認し，またどこまで遡ったデータがモデルの精度向上に役立つのかを調べる実験を行った．

\subsection{実験方法}
一ヶ月分の漁獲実績データを一回の実験で使用する．
まず，2006年1月の漁獲実績データのみを用いる．
このデータを日時の順に並べ，奇数番目を学習データとして扱う．
そして学習データのみでモデルを構築する．
食物連鎖の周期を考えると最大で60日まで遡ったデータが正答率に影響する可能性があるので，まず使用データの量を十日ごとに変えることでどこまでがモデルの精度向上に寄与するのか大まかに把握する．
つまり構築するモデルは当日のみのデータを用いた場合，10日前までのデータを用いた場合，20日前までのデータを用いた場合，30日前までのデータを用いた場合，40日前までのデータを用いた場合，50日前までのデータを用いた場合，60日前までのデータを用いた場合でそれぞれの場合について提案手法を用いてSIモデル構築を行う．
これを各海洋環境変数に対し行うことで5種類のSIモデルが構築できる．
この時のSIモデルの正答率を記録する．
出力される各SIモデルは重み$\lambda$を変化させた時の最大正答率となるSIモデルなので，ここで記録した正答率はつまりそれぞれのSIモデルの最も正答率が良い結果となる．
出力される5種類のSIモデルを統合することで最終的なHSIモデルとする．
このHSIモデルを用いて計算される漁獲モデルをその正答率で評価する．
そのために，モデル構築に使用しなかった偶数番目の漁獲実績データをテストデータとし，これをもとに漁獲モデルの正答率を求める．
先に説明した正答率はSIモデルを評価するためのものだが，この考え方はそのまま漁獲モデルの評価にも利用できる．
学習データとテストデータを入れ替えて同じ実験を行った．
さらに，2006年2月の漁獲実績データを用いて同じように奇数と偶数に分割して実験を行った．
これによって何日まで遡ったデータが漁獲モデルの精度向上に寄与するのか大まかに把握できる．
提案手法でモデル構築を行う際に式\ref{eq:3-17}の$\epsilon$とIRLSアルゴリズムの手順4のtolを指定する必要がある．
本研究では$\epsilon = 10^{-8}$，tol = $10^{-5}$で全ての実験を行った．
また正答率だけではなく，正答率が最大となる時の適合率と再現率も求めた．
モデルに使われた変数がどの程度遡ったデータなのかを，2006年2月の奇数番目を学習データ，偶数番目をテストデータとして海水温のSIモデルを構築した際の結果からグラフにした．
同時にその時のSIモデルを構成する変数の数も記録した．

\subsection{実験結果}
単一の海洋環境変数を使ってSIモデルを構築し，その正答率についてのみまとめた表は表\ref{tab:6-1}-\ref{tab:6-4}である．
これを図にしたものが図\ref{fig:6-1}-\ref{fig:6-4}である．

次にモデルに使われた変数が何日前のデータを使っているのかの一例をグラフにしたものが図\ref{fig:6-50}である．
この時，0,10,20,30,40,50,60日前のそれぞれのデータで，2,17,1,5,31,1,15種類の変数を使用していた．

\begin{table}
\caption{2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正答率の変化を表にした．}
\label{tab:6-1}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度 & 0.659 & 0.659 & 0.67 & 0.659 & 0.659 & 0.659 & 0.659 \\
海水温 & 0.67 & 0.648 & 0.637 & 0.626 & 0.626 & 0.615 & 0.593 \\
経度方向の流速 & 0.538&0.56&0.538&0.626&0.593&0.604&0.593 \\
緯度方向の流速 & 0.56&0.604&0.659&0.604&0.582&0.571&0.615 \\
深さ方向の流速 & 0.571&0.692&0.659&0.648&0.626&0.604&0.626 \\ \hline
\end{tabular}


\caption{2006年1月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正答率の変化を表にした．}
\label{tab:6-2}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度 & 0.505&0.549&0.538&0.538&0.582&0.571&0.55 \\
海水温 & 0.626&0.615&0.549&0.637&0.571&0.593&0.56 \\
経度方向の流速 & 0.604&0.538&0.495&0.615&0.571&0.549&0.56 \\
緯度方向の流速 & 0.527&0.571&0.571&0.593&0.648&0.648&0.593 \\
深さ方向の流速 & 0.637&0.66&0.604&0.626&0.571&0.593&0.582 \\ \hline
\end{tabular}
\end{table}

\setcounter{table}{2}

\begin{table}
\caption{2006年2月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正答率の変化を表にした．}
\label{tab:6-3}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度 & 0.750 & 0.685 & 0.707 & 0.620 & 0.620 & 0.620 & 0.620 \\
海水温 & 0.750 & 0.739 & 0.652 & 0.696 & 0.663 & 0.652 & 0.663 \\
経度方向の流速 & 0.543 & 0.576 & 0.609 & 0.652 & 0.652 & 0.630 & 0.630 \\
緯度方向の流速 & 0.576 & 0.587 & 0.652 & 0.620 & 0.620 & 0.652 & 0.630 \\
深さ方向の流速 & 0.609 & 0.587 & 0.663 & 0.598 & 0.620 & 0.630 & 0.630 \\ \hline
\end{tabular}


\caption{2006年2月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正答率の変化を表にした．}
\label{tab:6-4}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度 & 0.707&0.696&0.696&0.663&0.62&0.63&0.62 \\
海水温 & 0.75&0.707&0.696&0.641&0.641&0.641&0.598 \\
経度方向の流速 & 0.598&0.522&0.62&0.641&0.598&0.63&0.609 \\
緯度方向の流速 & 0.5&0.587&0.587&0.587&0.609&0.685&0.609 \\
深さ方向の流速 & 0.587&0.652&0.663&0.62&0.565&0.565&0.565 \\ \hline
\end{tabular}
\end{table}

\setcounter{table}{4}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-1.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正答率の変化を図にした．}
  \label{fig:6-1}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-2.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正答率の変化を図にした．}
  \label{fig:6-2}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-3.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正答率の変化を図にした．}
  \label{fig:6-3}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-4.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正答率の変化を図にした．}
  \label{fig:6-4}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-50.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして海水温からSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時にどの日の海水温がモデルに使われているのか図にした．}
  \label{fig:6-50}
\end{figure}

\if0

適合率

\fi

次に適合率の結果が表\ref{tab:6-5}-\ref{tab:6-8}である．
これを図にしたものが図\ref{fig:6-5}-\ref{fig:6-12}である．

\begin{table}
\caption{2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの適合率の変化を表にした．}
\label{tab:6-5}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度，正の適合率 & 0&0&0.6&0&0&0&0 \\
塩分濃度，負の適合率 & 0.659&0.659&0.674&0.659&0.659&0.659&0.659 \\
海水温，正の適合率 & 0.67&0.648&0.637&0.626&0.626&0.615&0.593 \\
海水温，負の適合率 & 0.679&0.667&0.663&0.686&0.676&0.671&0.639 \\
経度方向の流速，正の適合率 & 0.538&0.56&0.538&0.626&0.593&0.604&0.593 \\
経度方向の流速，負の適合率 & 0.640&0.652&0.655&0.703&0.677&0.694&0.695 \\
緯度方向の流速，正の適合率 & 0.56&0.604&0.659&0.604&0.582&0.571&0.615 \\
緯度方向の流速，負の適合率 & 0.647&0.694&0.746&0.707&0.712&0.672&0.671 \\
深さ方向の流速，正の適合率 & 0.571&0.692&0.659&0.648&0.626&0.604&0.626 \\
深さ方向の流速，負の適合率 &0.667&0.729&0.688&0.719&0.71&0.676&0.717 \\ \hline
\end{tabular}

\caption{2006年2月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの適合率の変化を表にした．}
\label{tab:6-6}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度，正の適合率 & 0.750 & 0.60 & 0.625 & 0 & 0 & 0 & 0 \\
塩分濃度，負の適合率 & 0.750 & 0.726 & 0.750 & 0.620 & 0.620 & 0.620 & 0.620 \\
海水温，正の適合率 & 0.750 & 0.658 & 0.80 & 0.630 & 0.550 & 0.80 & 0.563 \\
海水温，負の適合率 & 0.750 & 0.789 & 0.644 & 0.723 & 0.750 & 0.644 & 0.717 \\
経度方向の流速，正の適合率 & 0.36&0.389&0.485&0.545&0.543&0.513&0.512 \\
経度方向の流速，負の適合率 & 0.612&0.622&0.678&0.712&0.719&0.709&0.725 \\
緯度方向の流速，正の適合率 & 0.423&0.452&0.541&0.5&0.5&0.543&0.512 \\
緯度方向の流速，負の適合率 & 0.636&0.656&0.727&0.703&0.69&0.719&0.725 \\
深さ方向の流速，正の適合率 & 0.462&0.46&0.611&0.472&0.5&0.511&0.526 \\
深さ方向の流速，負の適合率 & 0.633&0.673&0.676&0.679&0.69&0.745&0.658 \\ \hline
\end{tabular}
\end{table}

\setcounter{table}{6}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-5.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正の適合率の変化を図にした．}
  \label{fig:6-5}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-6.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの負の適合率の変化を図にした．}
  \label{fig:6-6}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-7.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正の適合率の変化を図にした．}
  \label{fig:6-7}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-8.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの負の適合率の変化を図にした．}
  \label{fig:6-8}
\end{figure}

\begin{table}
\caption{2006年1月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの適合率の変化を表にした．}
\label{tab:6-7}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度，正の適合率 &0&0.7&0.8&0.8&0.706&0.575&0.542 \\
塩分濃度，負の適合率&0.505&0.531&0.523&0.523&0.554&0.569&0.558\\
海水温，正の適合率&0.762&0.593&0.553&0.688&0.607&0.682&0.576\\
海水温，負の適合率&0.586&0.649&0.547&0.610&0.556&0.565&0.552\\
経度方向の流速，正の適合率&0.636&0.541&0.487&0.619&0.571&0.563&0.558\\
経度方向の流速，負の適合率&0.586&0.537&0.5&0.612&0.571&0.542&0.563\\
緯度方向の流速，正の適合率&0.528&0.583&0.568&0.58&0.633&0.659&0.591\\
緯度方向の流速，負の適合率&0.527&0.563&0.574&0.61&0.667&0.64&0.596\\
深さ方向の流速，正の適合率&0.714&0.675&0.615&0.612&0.579&0.667&0.59\\
深さ方向の流速，負の適合率&0.603&0.647&0.596&0.643&0.566&0.567&0.577\\ \hline
\end{tabular}

\caption{2006年2月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの適合率の変化を表にした．}
\label{tab:6-8}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度，正の適合率&0.625&0.606&0.606&0.547&0&1&0\\
塩分濃度，負の適合率&0.75&0.745&0.745&0.76&0.619&0.626&0.619\\
海水温，正の適合率&0.730&0.617&0.6&0.625&0.625&0.667&0.458\\
海水温，負の適合率&0.757&0.758&0.754&0.642&0.642&0.639&0.647\\
経度方向の流速，正の適合率&0.461&0.4&0.5&0.522&0.477&0.512&0.486\\
経度方向の流速，負の適合率&0.651&0.638&0.683&0.75&0.708&0.725&0.690\\
緯度方向の流速，正の適合率&0.31&0.457&0.448&0.454&0.481&0.583&0.478\\
緯度方向の流速，負の適合率&0.587&0.667&0.65&0.661&0.661&0.75&0.652\\
深さ方向の流速，正の適合率&0.428&0.588&0.562&0.5&0.419&0.413&0.413\\
深さ方向の流速，負の適合率&0.633&0.667&0.716&0.652&0.639&0.634&0.634 \\ \hline
\end{tabular}
\end{table}

\setcounter{table}{8}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-9.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正の適合率の変化を図にした．}
  \label{fig:6-9}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-10.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの負の適合率の変化を図にした．}
  \label{fig:6-10}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-11.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正の適合率の変化を図にした．}
  \label{fig:6-11}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-12.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの負の適合率の変化を図にした．}
  \label{fig:6-12}
\end{figure}

再現率(Recall)の結果が表\ref{tab:6-9}-\ref{tab:6-12}と図\ref{fig:6-13}-\ref{fig:6-20}である．

\begin{table}
\caption{2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの再現率の変化を表にした．}
\label{tab:6-9}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度，正の再現率 &0&0&0.096&0&0&0&0 \\
塩分濃度，負の再現率 &1&1&0.966&1&1&1&1\\
海水温，正の再現率&0.129&0.096&0.096&0.29&0.225&0.225&0.032\\
海水温，負の再現率 &0.95&0.933&0.916&0.8&0.833&0.81&0.883\\
経度方向の流速，正の再現率 &0.258&0.258&0.354&0.387&0.322&0.387&0.419\\
経度方向の流速，負の再現率 &0.683&0.716&0.633&0.75&0.733&0.716&0.683\\
緯度方向の流速，正の再現率 &0.225&0.387&0.516&0.451&0.516&0.354&0.225\\
緯度方向の流速，負の再現率 &0.733&0.716&0.733&0.683&0.616&0.683&0.816\\
深さ方向の流速，正の再現率 &0.322&0.387&0.225&0.419&0.419&0.29&0.451\\
深さ方向の流速，負の再現率 &0.7&0.85&0.883&0.766&0.733&0.766&0.716\\ \hline
\end{tabular}
\end{table}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-13.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正の再現率の変化を図にした．}
  \label{fig:6-13}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-14.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの負の再現率の変化を図にした．}
  \label{fig:6-14}
\end{figure}

\begin{table}
\caption{2006年2月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの再現率の変化を表にした．}
\label{tab:6-10}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度，正の再現率 &0.514&0.514&0.571&0&0&0&0\\
塩分濃度，負の再現率 &0.894&0.789&0.789&1&1&1&1\\
海水温，正の再現率&0.514&0.657&0.114&0.485&0.628&0.114&0.514\\
海水温，負の再現率 &0.894&0.789&0.982&0.824&0.684&0.982&0.754\\
経度方向の流速，正の再現率 &0.253&0.2&0.457&0.514&0.542&0.542&0.6\\
経度方向の流速，負の再現率 &0.719&0.807&0.701&0.732&0.719&0.681&0.643\\
緯度方向の流速，正の再現率 &0.314&0.4&0.571&0.542&0.485&0.542&0.6\\
緯度方向の流速，負の再現率 &0.736&0.701&0.704&0.667&0.701&0.719&0.649\\
深さ方向の流速，正の再現率 &0.171&0.485&0.314&0.485&0.485&0.657&0.285\\
深さ方向の流速，負の再現率 &0.877&0.649&0.877&0.667&0.701&0.614&0.842\\ \hline
\end{tabular}
\end{table}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-15.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正の再現率の変化を図にした．}
  \label{fig:6-15}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-16.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの負の再現率の変化を図にした．}
  \label{fig:6-16}
\end{figure}

\begin{table}
\caption{2006年1月の漁獲データのうち，奇数番目テストデータを，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの再現率の変化を表にした．}
\label{tab:6-11}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度，正の再現率&0&0.155&0.088&0.088&0.266&0.511&0.577\\
塩分濃度，負の再現率&1&0.934&0.978&0.978&0.891&0.630&0.521\\
海水温，正の再現率&0.355&0.711&0.466&0.488&0.377&0.333&0.422\\
海水温，負の再現率&0.891&0.521&0.63&0.782&0.76&0.847&0.695\\
経度方向の流速，正の再現率&0.466&0.444&0.422&0.577&0.533&0.4&0.533\\
経度方向の流速，負の再現率&0.73&0.635&0.56&0.65&0.608&0.695&0.586\\
緯度方向の流速，正の再現率&0.422&0.466&0.555&0.644&0.688&0.6&0.57\\
緯度方向の流速，負の再現率&0.63&0.673&0.586&0.543&0.608&0.695&0.608\\
深さ方向の流速，正の再現率&0.444&0.6&0.533&0.666&0.488&0.355&0.511\\
深さ方向の流速，負の再現率&0.827&0.717&0.673&0.586&0.652&0.826&0.652\\ \hline
\end{tabular}
\end{table}

\begin{figure}
  \begin{center}
    \includegraphics[width=14cm]{6-17.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目テストデータを，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正の再現率の変化を図にした．}
  \label{fig:6-17}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-18.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目テストデータを，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの負の再現率の変化を図にした．}
  \label{fig:6-18}
\end{figure}

\begin{table}
\caption{2006年2月の漁獲データのうち，奇数番目テストデータを，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの再現率の変化を表にした．}
\label{tab:6-12}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 当日 & 10日 & 20日 & 30日 & 40日 & 50日 & 60日 \\ \hline
塩分濃度，正の再現率&0.571&0.571&0.571&0.657&0&0.0285&0\\
塩分濃度，負の再現率&0.789&0.771&0.771&0.666&1&1&1\\
海水温，正の再現率&0.542&0.6&0.6&0.142&0.142&0.114&0.314\\
海水温，負の再現率&0.877&0.771&0.754&0.947&0.947&0.964&0.771\\
経度方向の流速，正の再現率&0.342&0.514&0.457&0.657&0.6&0.6&0.514\\
経度方向の流速，負の再現率&0.754&0.526&0.719&0.631&0.596&0.649&0.666\\
緯度方向の流速，正の再現率&0.257&0.457&0.371&0.428&0.371&0.6&0.314\\
緯度方向の流速，負の再現率&0.649&0.667&0.719&0.684&0.754&0.736&0.789\\
深さ方向の流速，正の再現率&0.257&0.285&0.514&0.285&0.371&0.342&0.342\\
深さ方向の流速，負の再現率&0.789&0.877&0.754&0.821&0.684&0.701&0.701\\ \hline
\end{tabular}
\end{table}

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-19.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目テストデータを，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの正の再現率の変化を図にした．}
  \label{fig:6-19}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-20.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目テストデータを，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．その際に流跡線上でサンプリングした過去のデータを使うが，この日数を変化させた時のSIモデルの負の再現率の変化を図にした．}
  \label{fig:6-20}
\end{figure}

\section{漁獲予測精度に効く深さを調べる実験}
先の実験では深さ300mまでの範囲でモデル構築を行った．
深さの範囲を変えてどの深さがアカイカのモデル構築で重要なのかを調べる．

\subsection{実験方法}
どの深さがモデル構築で重要なのかを調べるために，各深さごとにモデル構築を行う．
先の実験では深さの範囲を一定にして，日数を変化させた．
この実験では日数を一定にして，深さを変化させる．
流跡線上を10日までサンプリングすることでモデル構築に使用する海洋環境変数を用意した．
サンプリング開始点の深さは0段階から20段階までの場合をそれぞれ用意する．
先の実験と同様にこれらの海洋環境変数を使ってそれぞれモデル構築を行い，正答率を求めて評価を行う．

\subsection{実験結果}
結果は図\ref{fig:6-21}-\ref{fig:6-24}となった．

\if0
段階ごととして，深さを書く
\fi

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-21.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．構築に使用するデータは10日前までの過去のデータで深さは1段階のみである．その1段階の深さを変化させた時の正答率の変化を図にした．}
  \label{fig:6-21}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-22.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして単一の海洋環境変数を使ったSIモデルを構築する．構築に使用するデータは10日前までの過去のデータで深さは1段階のみである．その1段階の深さを変化させた時の正答率の変化を図にした．}
  \label{fig:6-22}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-23.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目テストデータを，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．構築に使用するデータは10日前までの過去のデータで深さは1段階のみである．その1段階の深さを変化させた時の正答率の変化を図にした．}
  \label{fig:6-23}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-24.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目テストデータを，偶数番目を学習データとして単一の海洋環境変数を使ったSIモデルを構築する．構築に使用するデータは10日前までの過去のデータで深さは1段階のみである．その1段階の深さを変化させた時の正答率の変化を図にした．}
  \label{fig:6-24}
\end{figure}

\section{HSIモデルの構築手法を比較する実験}
3章ではHSIモデルの構築手法としてSIモデルを統合する手法と直接HSIモデルを構築する手法を提案した．
これらの構築手法はどちらがより漁獲予測精度が良いか比較する実験を行った．

\subsection{実験方法}
先の実験と同じように漁獲実績データの1ヶ月分を分割し，奇数番目の漁獲実績データのみを使ってそれぞれのHSIモデル構築手法でHSIモデルを構築する．
それぞれの手法で構築したHSIモデルを先の実験と同じように正答率で評価する．
統合したHSIモデルの正答率，統合に使われた各SIモデルの正答率，SIモデル無しで直接構築したHSIモデルの正答率を求めた．
正答率だけではなく適合率と再現率も求めた．
またモデルを構成する変数も記録した．
こちらも学習データとテストデータを入れ替えて同じ実験を行う．
なお，各SIモデルは10日ごとにSIモデルを構築して最大正答率となるSIモデルを統合に使用した．
つまり，過去のデータを用いることの有効性を確認する実験結果からHSIモデルを構築している．

\subsection{実験結果}
結果の表は表\ref{tab:6-13}-\ref{tab:6-16}となった．
これを図にしたものが図\ref{fig:6-25}-\ref{fig:6-28}である．
図表の各海洋環境変数名が付いているSIモデルはHSIモデルに使われたSIモデルである．
また，SIモデル無しで直接HSIモデルを構築した際に，どの海洋環境変数が使われたのかを表\ref{tab:6-17}-\ref{tab:6-20}にまとめた．
2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとしてSIモデルを統合することで構築したHSIモデルによる漁獲量の分布を可視化した結果が図\ref{fig:6-60}である．

\begin{table}
\caption{2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして海洋環境変数を使ったHSIモデルを構築する．SIモデルを統合したHSIモデルの正答率適合率再現率，統合に使われた各SIモデルの正答率適合率再現率，SIモデル無しで直接構築したHSIモデルの正答率適合率再現率を表にした．ただしSIモデルのカッコ内は何日前までのデータをSIモデル構築に使用したのかを表す．}
\label{tab:6-13}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 正答率 & 正の適合率 & 負の適合率 & 正の再現率 & 負の再現率 \\ \hline
塩分濃度SI(20)&0.67&0.6&0.674&0.096&0.966\\
海水温SI(0)&0.67&0.571&0.678&0.129&0.95\\
経度方向の流速SI(30)&0.626&0.444&0.703&0.387&0.75\\
緯度方向の流速SI(20)&0.659&0.5&0.745&0.516&0.733\\
深さ方向の流速SI(10)&0.692&0.571&0.728&0.387&0.85\\
SIモデルを統合したHSI&0.648&0.471&0.689&0.258&0.85\\
SIモデル無しのHSI&0.692&0.548&0.767&0.548&0.767\\ \hline
\end{tabular}
\end{table}

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-25.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして海洋環境変数を使ったHSIモデルを構築する．SIモデルを統合したHSIモデルの正答率適合率再現率，統合に使われた各SIモデルの正答率適合率再現率，SIモデル無しで直接構築したHSIモデルの正答率適合率再現率を図にした．ただしSIモデルのカッコ内は何日前までのデータをSIモデル構築に使用したのかを表す．}
  \label{fig:6-25}
\end{figure}

\begin{table}
\caption{2006年2月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして海洋環境変数を使ったHSIモデルを構築する．SIモデルを統合したHSIモデルの正答率適合率再現率，統合に使われた各SIモデルの正答率適合率再現率，SIモデル無しで直接構築したHSIモデルの正答率適合率再現率を表にした．ただしSIモデルのカッコ内は何日前までのデータをSIモデル構築に使用したのかを表す．}
\label{tab:6-14}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 正答率 & 正の適合率 & 負の適合率 & 正の再現率 & 負の再現率 \\ \hline
塩分濃度SI(0)&0.75&0.75&0.75&0.514&0.894\\
海水温SI(0)&0.75&0.75&0.75&0.514&0.894\\
経度方向の流速SI(30)&0.652&0.545&0.711&0.514&0.736\\
緯度方向の流速SI(20)&0.652&0.540&0.727&0.571&0.701\\
深さ方向の流速SI(20)&0.663&0.611&0.675&0.314&0.877\\
SIモデルを統合したHSI&0.663&0.643&0.667&0.257&0.912\\
SIモデル無しのHSI&0.695&0.6&0.754&0.6&0.754\\ \hline
\end{tabular}
\end{table}

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-26.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとして海洋環境変数を使ったHSIモデルを構築する．SIモデルを統合したHSIモデルの正答率適合率再現率，統合に使われた各SIモデルの正答率適合率再現率，SIモデル無しで直接構築したHSIモデルの正答率適合率再現率を図にした．ただしSIモデルのカッコ内は何日前までのデータをSIモデル構築に使用したのかを表す．}
  \label{fig:6-26}
\end{figure}

\begin{table}
\caption{2006年1月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして海洋環境変数を使ったHSIモデルを構築する．SIモデルを統合したHSIモデルの正答率適合率再現率，統合に使われた各SIモデルの正答率適合率再現率，SIモデル無しで直接構築したHSIモデルの正答率適合率再現率を表にした．ただしSIモデルのカッコ内は何日前までのデータをSIモデル構築に使用したのかを表す．}
\label{tab:6-15}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 正答率 & 正の適合率 & 負の適合率 & 正の再現率 & 負の再現率 \\ \hline
塩分濃度SI(40)&0.582&0.705&0.554&0.267&0.891\\
海水温SI(30)&0.637&0.687&0.61&0.488&0.782\\
経度方向の流速SI(30)&0.615&0.619&0.612&0.577&0.652\\
緯度方向の流速SI(40)&0.648&0.632&0.666&0.688&0.608\\
深さ方向の流速SI(10)&0.659&0.675&0.647&0.6&0.717\\
SIモデルを統合したHSI&0.648&0.659&0.64&0.6&0.696\\
SIモデル無しのHSI&0.714&0.771&0.678&0.6&0.826\\ \hline
\end{tabular}
\end{table}

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-27.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして海洋環境変数を使ったHSIモデルを構築する．SIモデルを統合したHSIモデルの正答率適合率再現率，統合に使われた各SIモデルの正答率適合率再現率，SIモデル無しで直接構築したHSIモデルの正答率適合率再現率を図にした．ただしSIモデルのカッコ内は何日前までのデータをSIモデル構築に使用したのかを表す．}
  \label{fig:6-27}
\end{figure}

\begin{table}
\caption{2006年2月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして海洋環境変数を使ったHSIモデルを構築する．SIモデルを統合したHSIモデルの正答率適合率再現率，統合に使われた各SIモデルの正答率適合率再現率，SIモデル無しで直接構築したHSIモデルの正答率適合率再現率を表にした．ただしSIモデルのカッコ内は何日前までのデータをSIモデル構築に使用したのかを表す．}
\label{tab:6-16}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline
 & 正答率 & 正の適合率 & 負の適合率 & 正の再現率 & 負の再現率 \\ \hline
塩分濃度SI(0)&0.706&0.625&0.75&0.571&0.789\\
海水温SI(0)&0.75&0.73&0.757&0.542&0.877\\
経度方向の流速SI(30)&0.641&0.522&0.75&0.657&0.631\\
緯度方向の流速SI(50)&0.684&0.583&0.75&0.6&0.736\\
深さ方向の流速SI(20)&0.663&0.562&0.716&0.514&0.754\\
SIモデルを統合したHSI&0.728&0.708&0.735&0.486&0.877\\
SIモデル無しのHSI&0.695&0.652&0.71&0.428&0.859\\ \hline
\end{tabular}
\end{table}

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-28.png}
  \end{center}
  \caption{2006年2月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとして海洋環境変数を使ったHSIモデルを構築する．SIモデルを統合したHSIモデルの正答率適合率再現率，統合に使われた各SIモデルの正答率適合率再現率，SIモデル無しで直接構築したHSIモデルの正答率適合率再現率を図にした．ただしSIモデルのカッコ内は何日前までのデータをSIモデル構築に使用したのかを表す．}
  \label{fig:6-28}
\end{figure}

\begin{table}
\caption{2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとしてSIモデルを構築せず，海洋環境変数から直接HSIモデルを構築する．その時にHSIモデルを構成する海洋環境変数を表にした．}
\label{tab:6-17}
\begin{tabular}{|c|c|c|} \hline
海洋環境変数名&日数&深さ \\ \hline
経度方向の流速&10&14\\
深さ方向の流速&0&0\\
深さ方向の流速&1&12\\
深さ方向の流速&2&18\\
深さ方向の流速&4&11\\
深さ方向の流速&6&12\\
深さ方向の流速&10&15\\ \hline
\end{tabular}

\caption{2006年2月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとしてSIモデルを構築せず，海洋環境変数から直接HSIモデルを構築する．その時にHSIモデルを構成する海洋環境変数を表にした．}
\label{tab:6-18}
\begin{tabular}{|c|c|c|} \hline
海洋環境変数名&日数&深さ \\ \hline
海水温&0&14\\
海水温&0&19\\
経度方向の流速&0&0\\
経度方向の流速&0&9\\
経度方向の流速&0&10\\
経度方向の流速&0&11\\
深さ方向の流速&0&15\\
深さ方向の流速&0&15\\ \hline
\end{tabular}
\end{table}

\setcounter{table}{18}

\begin{table}
\caption{2006年1月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとしてSIモデルを構築せず，海洋環境変数から直接HSIモデルを構築する．その時にHSIモデルを構成する海洋環境変数を表にした．}
\label{tab:6-19}
\begin{tabular}{|c|c|c|} \hline
海洋環境変数名&日数&深さ \\ \hline
経度方向の流速&3&17\\
緯度方向の流速&1&19\\
緯度方向の流速&7&0\\
緯度方向の流速&11&6\\
緯度方向の流速&16&8\\
深さ方向の流速&1&4\\
深さ方向の流速&2&15\\
深さ方向の流速&3&0\\
深さ方向の流速&3&15\\
深さ方向の流速&4&11\\
深さ方向の流速&9&19\\
深さ方向の流速&10&1\\
深さ方向の流速&15&16\\
深さ方向の流速&16&14\\
深さ方向の流速&20&18\\ \hline
\end{tabular}

\caption{2006年2月の漁獲データのうち，奇数番目をテストデータ，偶数番目を学習データとしてSIモデルを構築せず，海洋環境変数から直接HSIモデルを構築する．その時にHSIモデルを構成する海洋環境変数を表にした．}
\label{tab:6-20}
\begin{tabular}{|c|c|c|} \hline
海洋環境変数名&日数&深さ \\ \hline
海水温&0&7\\
海水温&0&14\\
経度方向の流速&0&8\\
経度方向の流速&0&12\\
経度方向の流速&0&13\\
緯度方向の流速&0&9\\
深さ方向の流速&0&12\\ \hline
\end{tabular}
\end{table}

\begin{figure}
  \begin{center}
    \includegraphics[width=13cm]{6-60.png}
  \end{center}
  \caption{2006年1月の漁獲データのうち，奇数番目を学習データ，偶数番目をテストデータとしてSIモデルを構築する．そのSIモデルを統合することでHSIモデルを構築する．この時の漁獲量予測の分布を可視化した結果である．}
  \label{fig:6-60}
\end{figure}