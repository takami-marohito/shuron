本章では、過去のデータを用いることで漁獲モデルの精度が向上することを確認するための実験について説明する。

\section{使用データ}
この節では本実験で使用するデータについて説明する。

\subsection{漁獲実績データ}
本研究ではアカイカを対象とした漁獲実績データ（CPUEデータ)を用いる。
このデータは青森県八戸港に所属するイカ釣り漁船が、2006年1月及び2月に行った操業を記録したものでそれぞれ184点、186点の漁獲データがある。
データには操業日、操業を行った緯度経度、CPUEが記録されている。
本研究では緯度経度の情報はCPUEに影響を与えないと考えているので、本実験では緯度経度情報を海洋環境変数としてSIモデルの構築に使用することはない。
ただし全く使わないわけではなく、流跡線計算の始点として利用する。
また合計で370点の漁獲実績データがあるが、これら全体を一回の実験で全て使用することはない。
先の章で述べたように、提案手法でSIモデルを構築する時に時刻の情報が失われるため、SIモデルの時間変化を考慮せずモデル構築を行う。
そのため出来る限り短い時間幅でモデル構築を行いたいが、そうすると一回のモデル構築に使用できるデータ量が減ってしまうのでモデルの精度が悪くなることが予想される。
そのため、このデータを月ごとに別個のデータとして扱うことでSIモデルの時間変化は無くモデル構築に十分なデータ量があるものと仮定する。

\subsection{海洋環境変数データ}
本実験で使用する海洋環境変数として、気象庁気象研究所で開発された海洋データ同化システムで作成されたMOVE(MRI Multivariate Ocean Variational Estimation)データを用いる。
このデータでは海水温、塩分濃度、経度方向の流速、緯度方向の流速、深さ方向の流速が利用できる。
また各変数は54段階の深さを持っており最大深さは6000mにもなる。
しかし操業する地点ではそれほどの深さはない。
そのため、本実験では使用データ全体の漁獲点で最も浅い300mの深さまでを使用する。
これはMOVEデータでは20段階目の深さである。
\if0
どうにか文章を増やしたかったら20段階の深さを書く
\fi
先の章で説明したように漁獲点を始点とした流跡線を計算し、流跡線上でサンプリングしたデータを過去のデータとして用いる。
流跡線計算の開始点は緯度経度は漁獲点であり、その深さはMOVEデータの各段階ごとの深さである。
そのため一つの漁獲点では20点の流跡線計算の開始点が存在する。
これをルンゲクッタ法によって60日遡り、一日ごとにサンプリングする。
さらに各点では5種類の海洋環境変数を得ることができる。
そのため、過去のデータまで利用する場合最大で6000種類の海洋環境変数がHSIモデルに影響することになる。
一方当日のデータのみを利用する場合はその60分の1の数なので100種類の変数までである。

\section{過去のデータを用いることの有効性を確認する実験}
過去のデータを用いることでそもそも漁獲モデルの精度が向上するのかどうかを確認し、またどこまで遡ったデータがモデルの精度向上に役立つのかを調べる実験を行った。

\subsection{実験方法}
一ヶ月分の漁獲実績データを一回の実験で使用する。
まず、2006年1月の漁獲実績データのみを用いる。
このデータを日時の順に並べ、奇数番目を学習データとして扱う。
そして学習データのみでモデルを構築する。
食物連鎖の周期を考えると最大で60日まで遡ったデータが正答率に影響する可能性があるので、まず使用データの量を十日ごとに変えることでどこまでがモデルの精度向上に寄与するのか大まかに把握する。
つまり構築するモデルは当日のみのデータを用いた場合、10日前までのデータを用いた場合、20日前までのデータを用いた場合、30日前までのデータを用いた場合、40日前までのデータを用いた場合、50日前までのデータを用いた場合、60日前までのデータを用いた場合でそれぞれの場合について提案手法を用いてSIモデル構築を行う。
これを各海洋環境変数に対し行うことで5種類のSIモデルが構築できる。
この時のSIモデルの正答率を記録する。
出力される各SIモデルは重み$\lambda$を変化させた時の最大正答率となるSIモデルなので、ここで記録した正答率はつまりそれぞれのSIモデルの最も正答率が良い結果となる。
出力される5種類のSIモデルを統合することで最終的なHSIモデルとする。
このHSIモデルを用いて計算される漁獲モデルをその正答率で評価する。
そのために、モデル構築に使用しなかった偶数番目の漁獲実績データをテストデータとし、これをもとに漁獲モデルの正答率を求める。
先に説明した正答率はSIモデルを評価するためのものだが、この考え方はそのまま漁獲モデルの評価にも利用できる。
学習データとテストデータを入れ替えて同じ実験を行った。
さらに、2006年2月の漁獲実績データを用いて同じように奇数と偶数に分割して実験を行った。
これによって何日まで遡ったデータが漁獲モデルの精度向上に寄与するのか大まかに把握できる。
提案手法でモデル構築を行う際に式\ref{eq:3-17}の$\epsilon$とIRLSアルゴリズムの手順4のtolを指定する必要がある。
本研究では$\epsilon = 10^{-8}$、tol = $10^{-5}$で全ての実験を行った。
また正答率だけではなく、正答率が最大となる時の適合率と再現率も求めた。

\section{深さの有効な範囲を調べる実験}
先の実験では深さ300mまでの範囲でモデル構築を行った。
深さの範囲を変えてどの深さがアカイカのモデル構築で重要なのかを調べる。

\subsection{実験方法}
先の実験では深さの範囲を一定にして、日数を変化させた。
この実験では日数を一定にして、深さの範囲を変化させる。
海洋環境変数は流跡線上を10日までサンプリングし、深さは0段階から20段階までの場合をそれぞれ用意する。
先の実験と同様にこれらの海洋環境変数を使ってそれぞれモデル構築を行い、正答率適合率再現率を求めて評価を行う。

\if0
段階ごととして、深さを書く
\fi

\section{HSIモデルの構築手法を比較する実験}
3章ではHSIモデルの構築手法としてSIモデルを統合する手法と直接HSIモデルを構築する手法を提案した。
これらの構築手法はどちらがより漁獲予測精度が良いか比較する実験を行った。

\subsection{実験方法}
先の実験と同じように漁獲実績データの1月分を分割し、奇数番目の漁獲実績データのみを使ってそれぞれのHSIモデル構築手法でHSIモデルを構築する。
それぞれの手法で構築したHSIモデルを先の実験と同じように正答率で評価する。
こちらも学習データとテストデータを入れ替えて同じ実験を行う。
そして同様に漁獲実績データの2月分を用いて同じ実験を行った。

\if0
モデル構築を行う際、各変数のSIモデルはテストデータを予測させた場合の正答率の最も高いものを選ぶ。
SIモデル構築をする場合、従来手法では深さと平滑化パラメータの自由度がある。
一方提案手法では、深さごとに変数を使う使わないの自由度と罰則項の重みの自由度がある。
最後に各SIモデルを相乗平均することでHSIモデルとする。
それぞれの手法で構築したHSIモデルを正答率で比較する。
漁獲実績データの偶数番目をテストデータとして扱い、テストデータを予測させた際の正答率を求める。
それぞれの手法で構築したモデルの評価をこの正答率で行う。
\fi

